<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leetcode Notes - escobarflughafen</title>
  <meta name="description" content="This is an example site description. You can use Markdown here.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/highlighter.css">
  <link rel="icon" href="/assets/img/home.png" type="image/x-icon">
</head>
<body class="mb-3">


<header class="header-banner line-overlay">
    <div class="container">
        <div class="row header-banner-row px-3">
            <a href="/" class="col-auto subway-red link-no-effect pe-3">
                <h1 class="head-text display-text">
                    Exit
                </h1>
            </a>
            <!--prev post-->


            <div class="col flex-grow-1 pe-3">
                <h1 class="head-text">
                    Leetcode Notes
                </h1>
            </div>



            <div class="col-12 col-md px-0">
                <ul class="nav nav-banner">
    <li class="nav-item my-nav-item">
        <a class="nav-link
        my-nav-link
        head-text
        display-text
        nav-link-banner" aria-current="page" href="/posts">
            <h2 class="
            mb-0">
                posts
            </h2>
        </a>

    </li>

    <li class="nav-item my-nav-item">
        <a class="nav-link
        my-nav-link
        head-text
        display-text
        nav-link-banner" aria-current="page" href="/projects">
            <h2 class="
            mb-0">
                projects
            </h2>
        </a>
    </li>
    <li class="nav-item my-nav-item">
        <a class="nav-link
        my-nav-link
        head-text
        display-text
        nav-link-banner" aria-current="page" href="/photos">
            <h2 class="
            mb-0">
                photos
            </h2>
        </a>
    </li>
    <li class="nav-item my-nav-items">
        <a class="nav-link
        my-nav-link
        head-text
        display-text
        nav-link-banner" aria-current="page" href="/contacts">
            <h2 class="
            mb-0">
                contacts
            </h2>
        </a>
    </li>
</ul>
            </div>


        </div>


    </div>
</header>

<main class="container my-3 px-3">
    <div class="row">
        <div class="col-12 col-md-8 mb-3 mb-md-0">
            <p class="subway-blue">
                posted on July 09, 2024,
                last updated on Tuesday, August 27, 2024 at 02:14 AM
            </p>
            <h2 id="1701-average-waiting-time">1701. Average waiting time</h2>

<p>A restaurant with single chef,</p>

<p>customers[i] = [arrival_i, time_i]</p>

<p>Chef prepares food for customers in the order they were given in the input.</p>

<p>return the average waitiing time of all customers</p>

<p>this question can be modelled as a non-preemptive single process at a time scheduling model.</p>

<p>Intuitative solution (in Python3):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">averageWaitingTime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">customers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="c1"># FCFS scheduling
</span>        <span class="n">customers</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">customers</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">customers</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">total_wait_time</span> <span class="o">=</span> <span class="n">customers</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">customers</span><span class="p">)):</span>
            <span class="n">prev_customer</span> <span class="o">=</span> <span class="n">customers</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">customer</span> <span class="o">=</span> <span class="n">customers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">customer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">prev_customer</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">customer</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">prev_customer</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">customer</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">customer</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">customer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">customer</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            
            <span class="n">total_wait_time</span> <span class="o">+=</span> <span class="n">customer</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">customer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            

        
        <span class="k">return</span> <span class="n">total_wait_time</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">customers</span><span class="p">)</span>
            
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Java Tips:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c1">// to initialize an array with the length of an existing array arr</span>
<span class="kt">int</span> <span class="n">newArr</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Optimized:</p>

<ul>
  <li>it is not necessary to save all the finish times of each customer</li>
  <li>in the line <code class="language-html highlighter-rouge">total_wait_time += customer[2] - customer[0]</code> , we just need to save the finish time of the previous customer, use a variable to iterate</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">averageWaitingTime</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">customers</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// finish time of the prev customer</span>
        <span class="kt">int</span> <span class="n">ft</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">double</span> <span class="n">allWaitingTime</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">customers</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="c1">// current customer arrived later than the prev customer ends</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">customers</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">ft</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ft</span> <span class="o">=</span> <span class="n">customers</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">customers</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
            <span class="o">}</span> 
            <span class="c1">// current customer arrived no later than the prev customer ends</span>
            <span class="k">else</span> <span class="o">{</span>
                <span class="n">ft</span> <span class="o">=</span> <span class="n">ft</span> <span class="o">+</span> <span class="n">customers</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
            <span class="o">}</span>
            <span class="n">allWaitingTime</span> <span class="o">+=</span> <span class="n">ft</span><span class="o">-</span><span class="n">customers</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">0</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">allWaitingTime</span><span class="o">/</span><span class="n">customers</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>       
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="1598-crawler-log-folder">1598. Crawler log folder</h2>

<p>A very easy question…</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">minOperations</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">logs</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">layer</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">logs</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span><span class="o">(</span><span class="n">logs</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="s">"../"</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">layer</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">layer</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">logs</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="s">"./"</span><span class="o">))</span> <span class="o">{</span>
                <span class="c1">// no action - current dir</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">layer</span><span class="o">++;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">layer</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="1717-maximum-score-from-removing-substrings">1717. Maximum score from removing substrings</h2>

<p><strong>Preservation of Opportunities</strong>:</p>

<ul>
  <li>Removing higher-scoring pairs first does not diminish the opportunity to remove lower-scoring pairs later. For instance, after all “ba” pairs are removed from the string, it still contains “ab” pairs if they existed initially.</li>
  <li>If we reverse this order, i.e., remove lower-scoring pairs first, we might miss out on higher-scoring pairs that could have been formed by the initial configuration of the string.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maximumGain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># intuitive - recursion and search
</span>
        <span class="n">ab</span> <span class="o">=</span> <span class="s">"ab"</span>
        <span class="n">ba</span> <span class="o">=</span> <span class="s">"ba"</span>

        <span class="n">first</span> <span class="o">=</span> <span class="s">""</span>
        <span class="n">second</span> <span class="o">=</span> <span class="s">""</span>
        <span class="n">maxxy</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
        <span class="n">minxy</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">x</span><span class="o">&gt;</span><span class="n">y</span><span class="p">:</span>
            <span class="n">first</span> <span class="o">=</span> <span class="n">ab</span>
            <span class="n">second</span> <span class="o">=</span> <span class="n">ba</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">first</span> <span class="o">=</span> <span class="n">ba</span>
            <span class="n">second</span> <span class="o">=</span> <span class="n">ab</span>

        <span class="n">st</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">it</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="n">it</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">it</span><span class="p">]</span>
            <span class="n">it</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">st</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
                <span class="k">continue</span>
                
            <span class="n">prev</span> <span class="o">=</span> <span class="n">st</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            
            <span class="k">if</span> <span class="n">prev</span><span class="o">+</span><span class="n">curr</span> <span class="o">==</span> <span class="n">first</span><span class="p">:</span>
                <span class="n">score</span> <span class="o">+=</span> <span class="n">maxxy</span>
                <span class="n">st</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">st</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
            
           
        
        <span class="n">s</span> <span class="o">=</span> <span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
        <span class="n">st</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">it</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="n">it</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">it</span><span class="p">]</span>
            <span class="n">it</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">st</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
                <span class="k">continue</span>
                
            <span class="n">prev</span> <span class="o">=</span> <span class="n">st</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            
            <span class="k">if</span> <span class="n">prev</span><span class="o">+</span><span class="n">curr</span> <span class="o">==</span> <span class="n">second</span><span class="p">:</span>
                <span class="n">score</span> <span class="o">+=</span> <span class="n">minxy</span>
                <span class="n">st</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">st</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
            
            
        

        <span class="k">return</span> <span class="n">score</span>
                
        

        
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="1530-number-of-good-leaf-node-pairs">1530. Number of good leaf node pairs</h2>

<ul>
  <li>use BFS - “distance” indicates that we need to search for pairs layer by layer</li>
  <li>construct a graph is necessary since we need to search bidirectionally – than tree having one-way references</li>
  <li>when searching in each layer, use the length of the queue as the number of nodes of this layer</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
</pre></td><td class="rouge-code"><pre><span class="c1"># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="nf">_traverse_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">curr_node</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">,</span> <span class="n">prev_node</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">,</span> <span class="n">graph</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">leaf_nodes</span><span class="p">:</span> <span class="nb">set</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">curr_node</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">curr_node</span><span class="p">.</span><span class="n">left</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">curr_node</span><span class="p">.</span><span class="n">right</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">leaf_nodes</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">curr_node</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">prev_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">prev_node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
                <span class="n">graph</span><span class="p">[</span><span class="n">prev_node</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">graph</span><span class="p">[</span><span class="n">prev_node</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">curr_node</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">curr_node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
                <span class="n">graph</span><span class="p">[</span><span class="n">curr_node</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">graph</span><span class="p">[</span><span class="n">curr_node</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">prev_node</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">_traverse_tree</span><span class="p">(</span><span class="n">curr_node</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">curr_node</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">leaf_nodes</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_traverse_tree</span><span class="p">(</span><span class="n">curr_node</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">curr_node</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">leaf_nodes</span><span class="p">)</span>
 
    <span class="k">def</span> <span class="nf">countPairs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">graph</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">leaf_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">_traverse_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">leaf_nodes</span><span class="p">)</span>

        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># begin of DFS
</span>
        <span class="k">for</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="n">leaf_nodes</span><span class="p">:</span>
            <span class="n">queue</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">leaf</span><span class="p">)</span>
            <span class="n">seen</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">leaf</span><span class="p">)</span>

            <span class="c1"># visiting all nodes, start from the leaf node (distance is 0 at this time)
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">distance</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
                <span class="c1">#print(f"leaf:{leaf.val}, distance:{i}, size:{size}")
</span>                <span class="c1"># nodes of this distance
</span>                <span class="c1"># visit all nodes of i distance
</span>                <span class="c1"># add all nodes of i+1 distance
</span>                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
                    <span class="n">curr_node</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># bfs -- queue -&gt; popleft
</span>                    <span class="k">if</span> <span class="n">curr_node</span> <span class="ow">in</span> <span class="n">leaf_nodes</span> <span class="ow">and</span> <span class="n">curr_node</span> <span class="o">!=</span> <span class="n">leaf</span><span class="p">:</span>
                        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># a satisfied leaf node has been visited
</span>                    <span class="k">if</span> <span class="n">curr_node</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">curr_node</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="n">_</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
                                <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
                                <span class="n">seen</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">count</span><span class="o">//</span><span class="mi">2</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="1380-lucky-numbers-in-a-matrix">1380. Lucky numbers in a matrix</h2>

<ul>
  <li>
    <p>Since matrix contains distinct numbers – we just need to get two sets, one is max values in cols and another is min values in rows.</p>
  </li>
  <li>
    <p>The intersection of this two sets is the answer.</p>

    <p>Proof that there is only one lucky numbers in a matrix – proof by contradicary</p>

    <ul>
      <li>
        <p>suppose that in a matrix, if two lucky numbers, X and Y exist</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>a b X c
d Y e f
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>
        <p>since X is a lucky number - min of the row and max of the col: X &lt; b and X &gt; e</p>

        <ul>
          <li>in an axis:   —-e—-X—-b—-</li>
        </ul>
      </li>
      <li>
        <p>Y is also a lucky number: Y &lt; e and Y &gt; b</p>

        <ul>
          <li>in the above axis: –Y?—e—X—b—Y?—</li>
        </ul>
      </li>
      <li>
        <p>a contradiction arise - hence, only one lucky number can exist.</p>
      </li>
    </ul>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">luckyNumbers</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">col_maxs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">row_mins</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)):</span>
            <span class="n">row_mins</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        
        <span class="n">m_T</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">matrix</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m_T</span><span class="p">)):</span>
            <span class="n">col_maxs</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">m_T</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

        <span class="s">"""
        for i in range(len(matrix[0])):
            col_max = -1
            for j in range(len(matrix)):
                elem = matrix[j][i]
                if elem &gt; col_max:
                    col_max = elem
        
            col_maxs.add(col_max)
        """</span>

        <span class="s">"""
        class Solution:
            def luckyNumbers (self, matrix: List[List[int]]) -&gt; List[int]:
                return set(map(min,matrix)) &amp; set(map(max,zip(*matrix)))
        """</span>

        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">col_maxs</span><span class="p">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">row_mins</span><span class="p">))</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="912-sort-an-array---onlogn-complexity">912. Sort an array - o(nlogn) complexity</h2>

<ul>
  <li>
    <p>although quicksort is an optimized sorting algorithm, however in worst case, it takes o(n^2) times.</p>

    <ul>
      <li>
        <p>quicksort</p>

        <ul>
          <li>quicksort() and partiton()</li>
          <li>use index i to label the position that all elem before index i is less than the pivot.</li>
        </ul>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">sortArray</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">quicksort</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    
        <span class="k">return</span> <span class="n">nums</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">quicksort</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">low</span><span class="o">,</span> <span class="kt">int</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">low</span> <span class="o">&lt;</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">partitionIndex</span> <span class="o">=</span> <span class="n">partition</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="n">low</span><span class="o">,</span> <span class="n">high</span><span class="o">);</span>
    
            <span class="n">quicksort</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="n">low</span><span class="o">,</span> <span class="n">partitionIndex</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
            <span class="n">quicksort</span><span class="o">(</span><span class="n">nums</span><span class="o">,</span> <span class="n">partitionIndex</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">high</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">partition</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">low</span><span class="o">,</span> <span class="kt">int</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">pivot</span> <span class="o">=</span> <span class="n">nums</span><span class="o">[</span><span class="n">high</span><span class="o">];</span>
    
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="o">(</span><span class="n">low</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    
    
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">low</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;=</span> <span class="n">high</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="n">pivot</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">i</span><span class="o">++;</span>
    
                <span class="c1">// all elements before index at i is less than the pivot</span>
                <span class="c1">// therefore, if elem at j is less than the pivot</span>
                <span class="c1">// swap elem at j with elem at i</span>
                <span class="c1">// in special circumstance - low...j is all less than the pivot, the swapping swaps the element by itself</span>
                <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
                <span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">nums</span><span class="o">[</span><span class="n">j</span><span class="o">];</span>
                <span class="n">nums</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    
        <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h2 id="2418-sort-the-people">2418. Sort the people</h2>

<ul>
  <li>easy solution - “distinct value in heights” - create a map mapping height to name, then sort the keys (heights), output the names in the sorted order.</li>
  <li>Or, sorting manually with quicksort.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">sortPeople</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">heights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">height_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">h</span><span class="p">:</span><span class="n">n</span> <span class="k">for</span> <span class="n">h</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">heights</span><span class="p">,</span> <span class="n">names</span><span class="p">)}</span>

        <span class="n">sorted_keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">height_dict</span><span class="p">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">[</span><span class="n">height_dict</span><span class="p">[</span><span class="n">height</span><span class="p">]</span> <span class="k">for</span> <span class="n">height</span> <span class="ow">in</span> <span class="n">sorted_keys</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="1636-sort-array-by-increasing-frequency">1636. Sort array by increasing frequency</h2>

<ul>
  <li>
    <p>Count the frequency for each number into pairs</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="c1"># initial attempt
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">frequencySort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">reversedlookup</span> <span class="o">=</span> <span class="p">{}</span>
  
        <span class="n">n_min</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
        <span class="n">n_max</span> <span class="o">=</span> <span class="mi">100</span>
  
        <span class="n">frequency</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_min</span><span class="p">,</span> <span class="n">n_max</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
          
        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="n">frequency</span><span class="p">[</span><span class="n">num</span><span class="o">-</span><span class="n">n_min</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
          
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frequency</span><span class="p">)):</span>
            <span class="n">num</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="n">n_min</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="n">frequency</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">freq</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">freq</span> <span class="ow">in</span> <span class="n">reversedlookup</span><span class="p">:</span>
                    <span class="n">reversedlookup</span><span class="p">[</span><span class="n">freq</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">reversedlookup</span><span class="p">[</span><span class="n">freq</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">num</span><span class="p">]</span>
          
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">sorted_keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">reversedlookup</span><span class="p">.</span><span class="n">keys</span><span class="p">())</span>
          
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">sorted_keys</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">reversedlookup</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
                    <span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
          
  
        <span class="k">return</span> <span class="n">result</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Sort the frequency by key</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">frequencySort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">freq</span> <span class="o">=</span> <span class="p">{}</span>
  
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">freq</span><span class="p">:</span>
                <span class="n">freq</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">freq</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
          
        <span class="n">result</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">freq</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="o">-</span><span class="n">x</span><span class="p">))</span> <span class="c1"># by the frequency first, if they have the same frequency, sort the numbers in decreasing order
</span>  
        <span class="k">return</span> <span class="n">result</span>
              
  
          
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="2058-find-the-minimum-and-maximum-number-of-nodes-between-critical-points"><a href="https://leetcode.com/problems/find-the-minimum-and-maximum-number-of-nodes-between-critical-points/">2058. Find the Minimum and Maximum Number of Nodes Between Critical Points</a></h2>

<h2 id="2191-sort-the-jumbled-numbers">2191. Sort the jumbled numbers</h2>

<ul>
  <li>design a key that jumbles numbers.</li>
  <li>use sorted to sort <code class="language-html highlighter-rouge">nums</code> using that key</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="n">num</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">digit</span> <span class="o">=</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">10</span>
            <span class="n">num</span> <span class="o">=</span> <span class="n">num</span><span class="o">//</span><span class="mi">10</span>
            <span class="n">val</span> <span class="o">+=</span> <span class="n">mapping</span><span class="p">[</span><span class="n">digit</span><span class="p">]</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**</span><span class="n">i</span>
            <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>

        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span> <span class="nf">sortJumbled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">convert</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="164-maximum-gap">164. Maximum gap</h2>

<ul>
  <li>
    <p>Vanilla approach - sort then count</p>

    <ul>
      <li>
        <p>however this violates the restriction that you must write an algorithm that runs in <strong>linear time</strong> and uses <strong>linear extra space</strong>.</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maximumGap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
    
        <span class="n">max_gap</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">sorted_nums</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
    
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sorted_nums</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">curr_n</span> <span class="o">=</span> <span class="n">sorted_nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">next_n</span> <span class="o">=</span> <span class="n">sorted_nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
    
            <span class="n">max_gap</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">next_n</span><span class="o">-</span><span class="n">curr_n</span><span class="p">,</span> <span class="n">max_gap</span><span class="p">)</span>
            
        <span class="k">return</span> <span class="n">max_gap</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>Hence we can consider bucket sort - where we compare the gap between adjacent buckets</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maximumGap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">nums</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">nums</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
  
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">high</span> <span class="o">==</span> <span class="n">low</span><span class="p">:</span> <span class="k">return</span> <span class="n">high</span> <span class="o">-</span> <span class="n">low</span>
  
        <span class="n">buckets</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
  
        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="n">bucket_index</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">2</span> <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="n">high</span> <span class="k">else</span> <span class="p">((</span><span class="n">num</span> <span class="o">-</span> <span class="n">low</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">//</span><span class="p">(</span><span class="n">high</span><span class="o">-</span><span class="n">low</span><span class="p">)</span> <span class="c1"># the index of the bucket
</span>            <span class="n">buckets</span><span class="p">[</span><span class="n">bucket_index</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
  
          
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">min</span><span class="p">(</span><span class="n">buckets</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">buckets</span><span class="p">[</span><span class="n">i</span><span class="p">])]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">buckets</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
  
        <span class="n">max_gap</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="c1">#for k in buckets.keys():
</span>            <span class="c1">#print(k, buckets[k])
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="c1"># min: next bucket #max: curr bucket
</span>            <span class="n">max_gap</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_gap</span><span class="p">,</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
          
        <span class="k">return</span> <span class="n">max_gap</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="1334-find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance">1334. Find the city with the smallest number of neighbors at a threshold distance</h2>

<ul>
  <li>
    <p>BFS won’t suffice for this question! – it can only visit a node once but there will be circumstance that two paths using the same node.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findTheCity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">distanceThreshold</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># solution - BFS with threshold cut
</span>          
      
        <span class="n">graph</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># notes: init the graph map first, in case there may have city with no neighbour -- wont be added to keys when building the graph
</span>        <span class="k">for</span> <span class="n">city_no</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">graph</span><span class="p">[</span><span class="n">city_no</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">candidates</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">city_no</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
  
        <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
            <span class="n">node_0</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">node_1</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
              
            <span class="k">if</span> <span class="n">node_0</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
                <span class="n">graph</span><span class="p">[</span><span class="n">node_0</span><span class="p">].</span><span class="n">append</span><span class="p">([</span><span class="n">node_1</span><span class="p">,</span> <span class="n">distance</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">graph</span><span class="p">[</span><span class="n">node_0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">node_1</span><span class="p">,</span> <span class="n">distance</span><span class="p">]]</span>
  
            <span class="k">if</span> <span class="n">node_1</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
                <span class="n">graph</span><span class="p">[</span><span class="n">node_1</span><span class="p">].</span><span class="n">append</span><span class="p">([</span><span class="n">node_0</span><span class="p">,</span> <span class="n">distance</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">graph</span><span class="p">[</span><span class="n">node_1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">node_0</span><span class="p">,</span> <span class="n">distance</span><span class="p">]]</span>
              
        <span class="k">print</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
  
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
            <span class="n">queue</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
              
            <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">node</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
                        <span class="c1"># node, accumulated distance, city_visited
</span>  
            <span class="n">most_city_visited</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
              
            <span class="k">while</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">curr</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">city</span> <span class="o">=</span> <span class="n">curr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">city</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                    <span class="k">continue</span>
                  
                <span class="n">acc_dist</span> <span class="o">=</span> <span class="n">curr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                  
                <span class="k">if</span> <span class="n">acc_dist</span> <span class="o">&gt;</span> <span class="n">distanceThreshold</span><span class="p">:</span>
                    <span class="k">continue</span>
  
                <span class="n">visited</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">city</span><span class="p">)</span>
                <span class="n">most_city_visited</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">city_visited</span> <span class="o">=</span> <span class="n">curr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
  
                <span class="k">print</span><span class="p">(</span><span class="s">"startcity"</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="s">"visiting"</span><span class="p">,</span> <span class="n">city</span><span class="p">,</span> <span class="s">"city_visited"</span><span class="p">,</span> <span class="n">most_city_visited</span><span class="p">,</span> <span class="s">'acc_dist'</span><span class="p">,</span> <span class="n">acc_dist</span><span class="p">)</span>
                  
                <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">city</span><span class="p">]:</span>
                    <span class="n">neighbour</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">distance</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">acc_dist</span>
                    <span class="k">if</span> <span class="n">neighbour</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                        <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">neighbour</span><span class="p">,</span> <span class="n">distance</span><span class="p">,</span> <span class="n">city_visited</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
              
            <span class="n">candidates</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">,</span> <span class="n">most_city_visited</span><span class="p">]</span>
          
          
                                                                  <span class="c1">#dsc city_visited #asc city_no
</span>        <span class="n">sorted_by_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">candidates</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">pair</span><span class="p">:</span> <span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]]))</span>
        <span class="k">print</span><span class="p">(</span><span class="n">sorted_by_name</span><span class="p">)</span>
  
        <span class="k">return</span> <span class="n">sorted_by_name</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
  
          
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>The best solution should be using the Floyd-Warshall algorithm</p>

    <ul>
      <li>with $O(n^3)$ time complexity and $O(n^2)$ space complexity.</li>
    </ul>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findTheCity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">distanceThreshold</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># large value to represent inf
</span>        <span class="n">INF</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e9</span><span class="o">+</span><span class="mi">7</span><span class="p">)</span>
          
        <span class="n">distance_matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="n">INF</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">distance_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
  
        <span class="k">for</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
            <span class="n">distance_matrix</span><span class="p">[</span><span class="n">start</span><span class="p">][</span><span class="n">end</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>
            <span class="n">distance_matrix</span><span class="p">[</span><span class="n">end</span><span class="p">][</span><span class="n">start</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>
  
        <span class="bp">self</span><span class="p">.</span><span class="n">floyd</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">distance_matrix</span><span class="p">)</span>
  
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">get_city_with_fewest_reachable</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">distance_matrix</span><span class="p">,</span> <span class="n">distanceThreshold</span><span class="p">)</span>
  
		<span class="c1"># a n^3 algorithm
</span>    <span class="k">def</span> <span class="nf">floyd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">distance_matrix</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                    <span class="c1"># compare the distance of previous path and the path passing by node k
</span>                    <span class="n">distance_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
                        <span class="n">distance_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span>
                        <span class="n">distance_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">distance_matrix</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                    <span class="p">)</span>
          
      
    <span class="k">def</span> <span class="nf">get_city_with_fewest_reachable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">distance_matrix</span><span class="p">,</span> <span class="n">distanceThreshold</span><span class="p">):</span>
        <span class="n">fewest_city_id</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">fewest_reachable_cities</span> <span class="o">=</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span>
        <span class="k">for</span> <span class="n">start_city</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">dest_city</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">start_city</span> <span class="o">!=</span> <span class="n">dest_city</span> <span class="ow">and</span> <span class="n">distance_matrix</span><span class="p">[</span><span class="n">start_city</span><span class="p">][</span><span class="n">dest_city</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">distanceThreshold</span><span class="p">:</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
              
            <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="n">fewest_reachable_cities</span><span class="p">:</span>
                <span class="n">fewest_reachable_cities</span> <span class="o">=</span> <span class="n">count</span>
                <span class="n">fewest_city_id</span> <span class="o">=</span> <span class="n">start_city</span>
          
  
        <span class="k">return</span> <span class="n">fewest_city_id</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="2976-minimum-cost-to-convert-string-i">2976. Minimum cost to convert string I</h2>

<ul>
  <li>actually it is a application of searching the shortest path between each two nodes in a graph</li>
  <li>the tuple <code class="language-html highlighter-rouge">(original, changed, cost)</code> describes the edges in the graph
    <ul>
      <li>need to notice that: there may exist indices <code class="language-html highlighter-rouge">i</code>, <code class="language-html highlighter-rouge">j</code> such that <code class="language-html highlighter-rouge">original[j] == original[i]</code> and <code class="language-html highlighter-rouge">changed[j] == changed[i]</code>.</li>
    </ul>
  </li>
  <li>it is possibly that one letter cannot reach another letter through exchanges, so <em>If it is impossible to convert</em> <code class="language-html highlighter-rouge">source</code> <em>to</em> <code class="language-html highlighter-rouge">target</code>, <em>return</em> <code class="language-html highlighter-rouge">-1</code>.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="c1"># consider using floyd-warshall
</span>    <span class="k">def</span> <span class="nf">minimumCost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">original</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">changed</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">cost</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">INF</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span>
        <span class="n">alphabet_lookup</span><span class="p">,</span> <span class="n">alphabet_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">floyd</span><span class="p">(</span><span class="n">source</span> <span class="p">,</span><span class="n">target</span><span class="p">,</span> <span class="n">original</span><span class="p">,</span> <span class="n">changed</span><span class="p">,</span> <span class="n">cost</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">alphabet_lookup</span><span class="p">,</span> <span class="n">alphabet_matrix</span><span class="p">)</span>
        <span class="n">cost</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="n">source_a</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">target_a</span> <span class="o">=</span> <span class="n">target</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

            <span class="n">source_index</span> <span class="o">=</span> <span class="n">alphabet_lookup</span><span class="p">[</span><span class="n">source_a</span><span class="p">]</span>
            <span class="n">target_index</span> <span class="o">=</span> <span class="n">alphabet_lookup</span><span class="p">[</span><span class="n">target_a</span><span class="p">]</span>
            
            <span class="n">change_cost</span> <span class="o">=</span> <span class="n">alphabet_matrix</span><span class="p">[</span><span class="n">source_index</span><span class="p">][</span><span class="n">target_index</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="n">change_cost</span> <span class="o">==</span> <span class="bp">self</span><span class="p">.</span><span class="n">INF</span><span class="p">:</span>
                <span class="n">cost</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="k">break</span>

            <span class="n">cost</span> <span class="o">+=</span> <span class="n">change_cost</span>
        
        <span class="k">return</span> <span class="n">cost</span>
        
    <span class="k">def</span> <span class="nf">floyd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">original</span><span class="p">,</span> <span class="n">changed</span><span class="p">,</span> <span class="n">cost</span><span class="p">):</span>
        <span class="n">alphabet_original</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">original</span><span class="p">)</span>
        <span class="n">alphabet_change</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">changed</span><span class="p">)</span>
        <span class="n">alphabet_source</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">alphabet_target</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>

        <span class="n">alphabet</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">alphabet_original</span><span class="p">.</span><span class="n">union</span><span class="p">(</span><span class="n">alphabet_change</span><span class="p">,</span> <span class="n">alphabet_source</span><span class="p">,</span> <span class="n">alphabet_target</span><span class="p">))</span>
        
        <span class="n">lookup</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">alphabet</span><span class="p">)):</span>
            <span class="n">lookup</span><span class="p">[</span><span class="n">alphabet</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span>
        


        <span class="n">alphabet_matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">self</span><span class="p">.</span><span class="n">INF</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">alphabet</span><span class="p">))]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">alphabet</span><span class="p">))</span> <span class="p">]</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">alphabet</span><span class="p">)):</span>
            <span class="n">alphabet_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cost</span><span class="p">)):</span>
            <span class="n">from_index</span> <span class="o">=</span> <span class="n">lookup</span><span class="p">[</span><span class="n">original</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="n">to_index</span> <span class="o">=</span> <span class="n">lookup</span><span class="p">[</span><span class="n">changed</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            
            <span class="n">alphabet_matrix</span><span class="p">[</span><span class="n">from_index</span><span class="p">][</span><span class="n">to_index</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">cost</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">alphabet_matrix</span><span class="p">[</span><span class="n">from_index</span><span class="p">][</span><span class="n">to_index</span><span class="p">])</span>
            <span class="c1"># to avoid cases as: Note that there may exist indices i, j such that original[j] == original[i] and changed[j] == changed[i].
</span>        
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">alphabet</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">alphabet</span><span class="p">)):</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">alphabet</span><span class="p">)):</span>
                    <span class="n">alphabet_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
                        <span class="n">alphabet_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span>
                        <span class="n">alphabet_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">alphabet_matrix</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                    <span class="p">)</span>


        <span class="k">return</span> <span class="n">lookup</span><span class="p">,</span> <span class="n">alphabet_matrix</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>
    <p>alternatively, using dijkstra’s algorithm (since all the edges are all non-negative)</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minimumCost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">original</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">changed</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">cost</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">_ord</span><span class="p">(</span><span class="n">ch</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">ord</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span><span class="o">-</span><span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)</span>
          
        <span class="n">graph</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">)]</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">original</span><span class="p">)):</span>
            <span class="n">from_ch</span> <span class="o">=</span> <span class="n">_ord</span><span class="p">(</span><span class="n">original</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">to_ch</span> <span class="o">=</span> <span class="n">_ord</span><span class="p">(</span><span class="n">changed</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
              
            <span class="n">graph</span><span class="p">[</span><span class="n">from_ch</span><span class="p">].</span><span class="n">append</span><span class="p">((</span><span class="n">to_ch</span><span class="p">,</span> <span class="n">cost</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
  
        <span class="k">def</span> <span class="nf">dijkstra</span><span class="p">(</span><span class="n">start_ch</span><span class="p">,</span> <span class="n">graph</span><span class="p">):</span>
            <span class="n">distances</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">)]</span>
            <span class="n">pq</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="n">start_ch</span><span class="p">)]</span>
  
  
            <span class="c1"># correctness -- in the first iteration, the algorithms will find the first shortest path -- the path between the start node to its nearest adjacent node
</span>            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">pq</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">curr_dist</span><span class="p">,</span> <span class="n">curr_ch</span> <span class="o">=</span> <span class="n">heapq</span><span class="p">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">pq</span><span class="p">)</span>
  
                <span class="k">if</span> <span class="n">distances</span><span class="p">[</span><span class="n">curr_ch</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="k">continue</span> <span class="c1"># already found shortest path
</span>                  
                <span class="n">distances</span><span class="p">[</span><span class="n">curr_ch</span><span class="p">]</span> <span class="o">=</span> <span class="n">curr_dist</span>
                  
                <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">curr_ch</span><span class="p">]:</span>
                    <span class="n">node</span><span class="p">,</span> <span class="n">dist</span> <span class="o">=</span> <span class="n">edge</span>
                    <span class="k">if</span> <span class="n">distances</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="c1"># the shortest path is not found
</span>                        <span class="n">new_dist</span> <span class="o">=</span> <span class="n">curr_dist</span> <span class="o">+</span> <span class="n">dist</span>
                        <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">pq</span><span class="p">,</span> <span class="p">(</span><span class="n">new_dist</span><span class="p">,</span> <span class="n">node</span><span class="p">))</span>
  
            <span class="k">return</span> <span class="n">distances</span>
  
        <span class="n">min_dists</span> <span class="o">=</span> <span class="p">[</span> <span class="n">dijkstra</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="n">graph</span><span class="p">)</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">)</span> <span class="p">]</span>
  
        <span class="n">total_cost</span> <span class="o">=</span> <span class="mi">0</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="n">from_ch</span> <span class="o">=</span> <span class="n">_ord</span><span class="p">(</span><span class="n">source</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">to_ch</span> <span class="o">=</span> <span class="n">_ord</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
              
            <span class="n">cost</span> <span class="o">=</span> <span class="n">min_dists</span><span class="p">[</span><span class="n">from_ch</span><span class="p">][</span><span class="n">to_ch</span><span class="p">]</span>
  
            <span class="k">if</span> <span class="n">cost</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
              
            <span class="n">total_cost</span> <span class="o">+=</span> <span class="n">cost</span>
          
        <span class="k">return</span> <span class="n">total_cost</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="2134-minimum-swaps-to-group-all-1s-together-ii">2134. Minimum swaps to group all 1’s together II</h2>

<ul>
  <li>use suffix sum</li>
</ul>

<h2 id="3243-shortest-distance-after-road-addition-queries-i">3243. Shortest distance after road addition queries I</h2>

<ul>
  <li>
    <p>Floyd-warshall will exceed the time limit</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">shortestDistanceAfterQueries</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">queries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
          
        <span class="n">INF</span> <span class="o">=</span> <span class="mi">10000</span>
        <span class="n">distances</span> <span class="o">=</span> <span class="p">[[</span><span class="n">INF</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
          
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">distances</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
              
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">distances</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
              
        <span class="c1"># build the initial graph
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                <span class="n">distances</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span><span class="o">-</span><span class="n">i</span>
          
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
  
          
        <span class="c1"># adding routes
</span>        <span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">queries</span><span class="p">:</span>
            <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">query</span>
            <span class="n">distances</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
              
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                        <span class="n">dist_i_j</span> <span class="o">=</span> <span class="n">distances</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                        <span class="n">dist_i_k_j</span> <span class="o">=</span> <span class="n">distances</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">distances</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                        <span class="n">distances</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dist_i_j</span><span class="p">,</span> <span class="n">dist_i_k_j</span><span class="p">)</span>
              
              
            <span class="c1">#count current min distance
</span>            <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">distances</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
          
        <span class="k">return</span> <span class="n">ans</span>
          
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Using Dijkstra with priority queue (heap queue):</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">shortestDistanceAfterQueries</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">queries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">graph</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">graph</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
          
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
  
        <span class="k">def</span> <span class="nf">dijkstra</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
            <span class="n">distances</span> <span class="o">=</span> <span class="p">{</span><span class="n">node</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s">'infinity'</span><span class="p">)</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)}</span>
            <span class="n">distances</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">priority_queue</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="n">start</span><span class="p">)]</span>
              
            <span class="k">while</span> <span class="n">priority_queue</span><span class="p">:</span>
                <span class="n">current_distance</span><span class="p">,</span> <span class="n">current_node</span> <span class="o">=</span> <span class="n">heapq</span><span class="p">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">priority_queue</span><span class="p">)</span>
                <span class="c1"># the current_distance is greater than the known shortest distance between start and c_node
</span>                <span class="k">if</span> <span class="n">current_distance</span> <span class="o">&gt;</span> <span class="n">distances</span><span class="p">[</span><span class="n">current_node</span><span class="p">]:</span>
                    <span class="k">continue</span>
                  
                <span class="k">for</span> <span class="n">neighbor</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">current_node</span><span class="p">]:</span>
                    <span class="n">distance</span> <span class="o">=</span> <span class="n">current_distance</span> <span class="o">+</span> <span class="n">weight</span>
                    <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="n">distances</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]:</span>
                        <span class="n">distances</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">distance</span>
                        <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">priority_queue</span><span class="p">,</span> <span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="n">neighbor</span><span class="p">))</span>
              
            <span class="k">return</span> <span class="n">distances</span><span class="p">[</span><span class="n">end</span><span class="p">]</span>
          
        <span class="k">for</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">queries</span><span class="p">:</span>
            <span class="n">graph</span><span class="p">[</span><span class="n">u</span><span class="p">].</span><span class="n">append</span><span class="p">((</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">shortest_path_length</span> <span class="o">=</span> <span class="n">dijkstra</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">results</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">shortest_path_length</span><span class="p">)</span>
          
        <span class="k">return</span> <span class="n">results</span>
              
      
          
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="2053-kth-distinct-string-in-an-array">2053. Kth distinct string in an array</h2>

<ul>
  <li>We can organize two sets, one is distinct string set and another is duplicated string set. (set is unordered)</li>
  <li>To find the kth distinct string, we need to follow the order of the original array. We can iterate over the original array and check if each string is in the distinct string set, and use a counter to count the number of distinct string we’ve seen.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">kthDistinct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">dist_s</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">dup_s</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">arr</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dup_s</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dist_s</span><span class="p">:</span>
                <span class="n">dist_s</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                <span class="n">dup_s</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dist_s</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        
        <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">arr</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dist_s</span><span class="p">:</span>
                <span class="n">n</span><span class="o">+=</span><span class="mi">1</span>
            
            <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="n">k</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">s</span>
        
        <span class="k">return</span> <span class="s">""</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="1460-make-two-arrays-equal-by-reversing-subarrays">1460. Make two arrays equal by reversing subarrays</h2>

<ul>
  <li>
    <p>Think of swapping two adjacent elements – the same as reversing a subarray with length of 2.</p>
  </li>
  <li>
    <p>Therefore, as long as two arrays have the amount of elements, they can be adjusted to be equal.</p>
  </li>
  <li>
    <p>Hence, either we count the elements in two arrays, or we sort them to see if the two arrays are the same after sorting.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="c1"># count the elements
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">canBeEqual</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
          
        <span class="n">target_map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">arr_map</span> <span class="o">=</span> <span class="p">{}</span>
  
        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">arr</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">arr_map</span><span class="p">:</span>
                <span class="n">arr_map</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">arr_map</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
          
        <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">target</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">target_map</span><span class="p">:</span>
                <span class="n">target_map</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">target_map</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
          
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">arr_map</span><span class="p">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">target_map</span><span class="p">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">return</span> <span class="bp">False</span>
              
            <span class="k">if</span> <span class="n">arr_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target_map</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">False</span>
          
        <span class="k">return</span> <span class="bp">True</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">canBeEqual</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
          
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">target</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">False</span>
  
        <span class="n">arr_sorted</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
        <span class="n">target_sorted</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr_sorted</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">arr_sorted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target_sorted</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">False</span>
  
        <span class="k">return</span> <span class="bp">True</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="1508-range-sum-of-sorted-subarray-sums">1508. Range sum of sorted subarray sums</h2>

<ul>
  <li>
    <p>Use two for-loops to iterate all the ranges, then, sort the array fo subarray sums, get the sum of the sorted array with given indexes.</p>

    <ul>
      <li>this is a brute force solution with $O(n^2 \cdot \log n)$ time complexity – since the solution is sorting an array with $n^2$ elements, at best it need $O(n^2 \cdot \log n^2) = O(n^2 \cdot 2 \log n) = O(n^2 \cdot \log n)$ time.</li>
    </ul>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rangeSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">subsums</span> <span class="o">=</span> <span class="p">[]</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">subsum</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                <span class="n">subsum</span> <span class="o">+=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">subsums</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">subsum</span><span class="p">)</span>
          
        <span class="n">_sorted</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">subsums</span><span class="p">)</span>
  
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">_sorted</span><span class="p">[</span><span class="n">left</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="n">right</span><span class="p">])</span> <span class="o">%</span> <span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">7</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Alternatively, we can use a priority queue to maintain the order of subarray sums.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rangeSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">pq</span> <span class="o">=</span> <span class="p">[]</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">pq</span><span class="p">,</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span><span class="p">))</span>
          
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">mod</span> <span class="o">=</span> <span class="mf">1e9</span><span class="o">+</span><span class="mi">7</span>
  
        <span class="k">print</span><span class="p">(</span><span class="n">pq</span><span class="p">)</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">heapq</span><span class="p">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">pq</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">left</span><span class="p">:</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="p">(</span><span class="n">ans</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">%</span> <span class="n">mod</span>
              
            <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">pq</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
          
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <ul>
      <li>
        <p>Java, using <code class="language-html highlighter-rouge">PriorityQueue</code></p>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">rangeSum</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">,</span> <span class="kt">int</span> <span class="n">left</span><span class="o">,</span> <span class="kt">int</span> <span class="n">right</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">PriorityQueue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;</span> <span class="n">pq</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PriorityQueue</span><span class="o">&lt;&gt;(</span>
            <span class="k">new</span> <span class="nc">Comparator</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[]&gt;()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">o1</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="n">o1</span><span class="o">[</span><span class="mi">0</span><span class="o">]-</span><span class="n">o2</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">);</span>
    
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">pq</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">i</span><span class="o">});</span>
        <span class="o">}</span> 
    
        <span class="kt">int</span> <span class="n">mod</span> <span class="o">=</span> <span class="mi">1000000007</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">right</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">int</span><span class="o">[]</span> <span class="n">top</span> <span class="o">=</span> <span class="n">pq</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
                
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">left</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="o">(</span><span class="n">ans</span> <span class="o">+</span> <span class="n">top</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span> <span class="o">%</span> <span class="n">mod</span><span class="o">;</span>
            <span class="o">}</span>
    
            <span class="k">if</span> <span class="o">(</span><span class="n">top</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">pq</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">top</span><span class="o">[</span><span class="mi">0</span><span class="o">]+</span> <span class="n">nums</span><span class="o">[</span><span class="n">top</span><span class="o">[</span><span class="mi">1</span><span class="o">]+</span><span class="mi">1</span><span class="o">],</span> <span class="n">top</span><span class="o">[</span><span class="mi">1</span><span class="o">]+</span><span class="mi">1</span><span class="o">});</span>
            <span class="o">}</span>
        <span class="o">}</span>
    
        <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
    
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>

        <ul>
          <li><code class="language-html highlighter-rouge">pq.offer()</code> – add a new element into the priority queue</li>
          <li><code class="language-html highlighter-rouge">pq.poll()</code> – pop the top of the priority queue</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="3016-minimum-number-to-pushes-to-type-word-ii">3016. Minimum number to pushes to type word II</h2>

<ul>
  <li>Count the frequency of each character in the word.</li>
  <li>Sort the items in the frequency map in descending order, then get the key press times for each character by <code class="language-html highlighter-rouge">math.ceil(ch_freq/numpad_n)</code> (prioritize high-frequency characters in the keypad, once reached the number of total available keys, characters are placed in the second, third, … place of a key – we don’t have to assign them just need to count them).</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minimumPushes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">freq</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">freq</span><span class="p">:</span>
                <span class="n">freq</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">freq</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        
        <span class="n">numpad_n</span> <span class="o">=</span> <span class="mi">8</span>

        <span class="n">items</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">freq</span><span class="p">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="o">-</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
            <span class="n">pressing</span> <span class="o">=</span> <span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">ceil</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">numpad_n</span><span class="p">))</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">pressing</span>
            <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">pressing</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">count</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="2134-minimum-swaps-to-group-all-1s-together-ii-1">2134. Minimum swaps to group all 1’s together II</h2>

<h2 id="840-magic-squares-in-grid">840. Magic squares in grid</h2>

<ul>
  <li>DON’T OVERTHINK! Here is the consequence of overthinking.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">numMagicSquaresInside</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grid</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">H</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">X_MAX</span> <span class="o">=</span> <span class="n">L</span><span class="o">-</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span>
        <span class="n">Y_MAX</span> <span class="o">=</span> <span class="n">H</span><span class="o">-</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span>


        <span class="k">if</span> <span class="n">H</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="ow">or</span> <span class="n">L</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">count</span>
        
        <span class="n">steps</span> <span class="o">=</span> <span class="n">X_MAX</span><span class="o">*</span><span class="n">Y_MAX</span>
        

        <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">occur</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">non_magic_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">row_sums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">col_sums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        
        <span class="n">left_diag</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">right_diag</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="mi">3</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="p">):</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="n">row_sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">val</span>
                <span class="n">col_sums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">val</span>
                <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">occur</span><span class="p">:</span>
                    <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">:</span>
                    <span class="n">left_diag</span> <span class="o">+=</span> <span class="n">val</span>
                
                <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="n">j</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">right_diag</span> <span class="o">+=</span> <span class="n">val</span>

                <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mi">9</span> <span class="ow">or</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">non_magic_count</span> <span class="o">+=</span> <span class="mi">1</span>

                
        <span class="k">if</span> <span class="n">left_diag</span> <span class="o">==</span> <span class="n">right_diag</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">occur</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span> <span class="ow">and</span> <span class="n">non_magic_count</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">row_sums</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">col_sums</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1">#print(left_diag, right_diag, occur)
</span>        <span class="c1">#print(grid[0],'\n',grid[1], '\n', grid[2])
</span>        <span class="n">steps</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="n">east</span><span class="o">=</span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>     <span class="c1"># east
</span>        <span class="n">south</span><span class="o">=</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>     <span class="c1"># south
</span>        <span class="n">west</span><span class="o">=</span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>    <span class="c1"># west
</span>        <span class="n">north</span><span class="o">=</span>    <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>     <span class="c1"># north -- not used
</span>        
        <span class="n">direction</span> <span class="o">=</span> <span class="n">east</span>
        <span class="n">x</span> <span class="o">+=</span> <span class="n">direction</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="n">direction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">while</span> <span class="n">steps</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># remove vals out of square
</span>            <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">east</span><span class="p">:</span>
                <span class="n">col_sums</span> <span class="o">=</span> <span class="n">col_sums</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                <span class="n">col_sums</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                    <span class="n">val</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="o">+</span><span class="n">i</span><span class="p">][</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">row_sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-=</span> <span class="n">val</span>
                    <span class="k">if</span> <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">del</span> <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mi">9</span> <span class="ow">or</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">non_magic_count</span> <span class="o">-=</span> <span class="mi">1</span>

                    <span class="n">new_val</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="o">+</span><span class="n">i</span><span class="p">][</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">row_sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">new_val</span>
                    <span class="n">col_sums</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">new_val</span>
                    <span class="k">if</span> <span class="n">new_val</span> <span class="ow">in</span> <span class="n">occur</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">new_val</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">new_val</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">new_val</span> <span class="o">&gt;</span> <span class="mi">9</span> <span class="ow">or</span> <span class="n">new_val</span> <span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">non_magic_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    
            <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">south</span><span class="p">:</span>
                <span class="n">row_sums</span> <span class="o">=</span> <span class="n">row_sums</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                <span class="n">row_sums</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                    <span class="n">val</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">x</span><span class="o">+</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">col_sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-=</span> <span class="n">val</span>
                    <span class="k">if</span> <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">del</span> <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mi">9</span> <span class="ow">or</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">non_magic_count</span> <span class="o">-=</span> <span class="mi">1</span>
                    
                    <span class="n">new_val</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="n">x</span><span class="o">+</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">row_sums</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">new_val</span>
                    <span class="n">col_sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">new_val</span>
                    <span class="k">if</span> <span class="n">new_val</span> <span class="ow">in</span> <span class="n">occur</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">new_val</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">new_val</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">new_val</span> <span class="o">&gt;</span> <span class="mi">9</span> <span class="ow">or</span> <span class="n">new_val</span> <span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">non_magic_count</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">west</span><span class="p">:</span>
                <span class="n">col_sums</span> <span class="o">=</span> <span class="n">col_sums</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">col_sums</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                    <span class="n">val</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="o">+</span><span class="n">i</span><span class="p">][</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">row_sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-=</span> <span class="n">val</span>
                    <span class="k">if</span> <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">del</span> <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mi">9</span> <span class="ow">or</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">non_magic_count</span> <span class="o">-=</span> <span class="mi">1</span>

                    <span class="n">new_val</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="o">+</span><span class="n">i</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
                    <span class="n">row_sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">val</span>
                    <span class="n">col_sums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">val</span>
                    <span class="k">if</span> <span class="n">new_val</span> <span class="ow">in</span> <span class="n">occur</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">new_val</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">occur</span><span class="p">[</span><span class="n">new_val</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">new_val</span> <span class="o">&gt;</span> <span class="mi">9</span> <span class="ow">or</span> <span class="n">new_val</span> <span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">non_magic_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    
            <span class="c1"># get diags
</span>            <span class="n">left_diag</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">right_diag</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="n">left_diag</span> <span class="o">+=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="o">+</span><span class="n">i</span><span class="p">][</span><span class="n">x</span><span class="o">+</span><span class="n">i</span><span class="p">]</span>
                <span class="n">right_diag</span> <span class="o">+=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="o">+</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span>
            
            <span class="k">if</span> <span class="n">left_diag</span> <span class="o">==</span> <span class="n">right_diag</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">occur</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span> <span class="ow">and</span> <span class="n">non_magic_count</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">row_sums</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">col_sums</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">left_diag</span> <span class="o">==</span> <span class="n">row_sums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">left_diag</span> <span class="o">==</span> <span class="n">col_sums</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="c1">#decide next direction
</span>            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">X_MAX</span> <span class="ow">and</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">east</span><span class="p">:</span>
                <span class="n">direction</span> <span class="o">=</span> <span class="n">south</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">X_MAX</span> <span class="ow">and</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">south</span><span class="p">:</span>
                <span class="n">direction</span> <span class="o">=</span> <span class="n">west</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">west</span><span class="p">:</span>
                <span class="n">direction</span> <span class="o">=</span> <span class="n">south</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">south</span><span class="p">:</span>
                <span class="n">direction</span> <span class="o">=</span> <span class="n">east</span>

            <span class="n">steps</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="n">direction</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y</span> <span class="o">+=</span> <span class="n">direction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="n">count</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>
    <p>Simply  scan each 3*3 block through the grids. Also, remember that x, y relationships in diagonal entries.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">numMagicSquaresInside</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grid</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">X_MAX</span><span class="p">,</span> <span class="n">Y_MAX</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">-</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Y_MAX</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">X_MAX</span><span class="p">):</span>
                <span class="n">lookup</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">diag_left</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">diag_right</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">rowsums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">colsums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">non_magic</span> <span class="o">=</span> <span class="mi">0</span>
                  
                <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">3</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="o">+</span><span class="mi">3</span><span class="p">):</span>
                          
                        <span class="n">val</span> <span class="o">=</span> <span class="n">grid</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">val</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
                            <span class="n">non_magic</span> <span class="o">+=</span> <span class="mi">1</span>
  
                        <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">lookup</span><span class="p">:</span>
                            <span class="n">lookup</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">lookup</span><span class="p">[</span><span class="n">val</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
  
                        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">j</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">i</span><span class="p">):</span>
                            <span class="n">diag_left</span> <span class="o">+=</span> <span class="n">val</span>
                          
                        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">j</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                            <span class="n">diag_right</span> <span class="o">+=</span> <span class="n">val</span>
                          
                        <span class="n">rowsums</span><span class="p">[</span><span class="n">y</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">val</span>
                        <span class="n">colsums</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">val</span>
                          
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lookup</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span> <span class="ow">and</span> <span class="n">diag_left</span> <span class="o">==</span> <span class="n">diag_right</span> <span class="ow">and</span> <span class="n">diag_left</span> <span class="o">==</span> <span class="n">rowsums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">diag_left</span> <span class="o">==</span> <span class="n">colsums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">rowsums</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">colsums</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">non_magic</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
          
        <span class="k">return</span> <span class="n">count</span>    
  
        
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="959-regions-cut-by-slashes">959. Regions cut by slashes</h2>

<ul>
  <li>
    <p>A novel question, need to use its geometrical properties to make the shapes.</p>
  </li>
  <li>
    <p>An demo, it can animate the exploring steps in finding number of regions:</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">copy</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">regionsBySlashes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grid</span><span class="p">):</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
        <span class="n">expanded_grid</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="mi">3</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="mi">3</span><span class="p">)]</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="s">'/'</span><span class="p">:</span>
                    <span class="n">expanded_grid</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span><span class="p">][</span><span class="n">j</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">expanded_grid</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">expanded_grid</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="n">j</span><span class="o">*</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
  
                <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="s">'</span><span class="se">\\</span><span class="s">'</span><span class="p">:</span>
                    <span class="n">expanded_grid</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span><span class="p">][</span><span class="n">j</span><span class="o">*</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">expanded_grid</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">expanded_grid</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="n">j</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
  
        <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">expanded_grid</span><span class="p">)</span>
  
  
  
        <span class="n">regions</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="p">[{</span>
            <span class="s">'grid'</span><span class="p">:</span> <span class="n">copy</span><span class="p">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">expanded_grid</span><span class="p">),</span>
            <span class="s">'regions'</span><span class="p">:</span> <span class="n">regions</span>
        <span class="p">}]</span>
  
        <span class="k">def</span> <span class="nf">explore</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="c1"># check the boundaries
</span>            <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span> <span class="ow">and</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span> <span class="ow">and</span> <span class="n">expanded_grid</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">expanded_grid</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">steps</span><span class="p">.</span><span class="n">append</span><span class="p">({</span><span class="s">'grid'</span><span class="p">:</span> <span class="n">copy</span><span class="p">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">expanded_grid</span><span class="p">),</span> <span class="s">'regions'</span><span class="p">:</span> <span class="n">regions</span><span class="p">})</span>
  
                <span class="n">explore</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                <span class="n">explore</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                <span class="n">explore</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">explore</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
  
  
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">expanded_grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="c1"># coloring this region until meets the boundary
</span>                    <span class="n">explore</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
  
                    <span class="n">regions</span> <span class="o">+=</span> <span class="mi">1</span>
  
        <span class="k">return</span> <span class="n">regions</span><span class="p">,</span> <span class="n">steps</span>
  
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
  
<span class="n">fill</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'**'</span><span class="p">,</span>
    <span class="s">'░░'</span><span class="p">,</span>
    <span class="s">'▒▒'</span><span class="p">,</span>
    <span class="s">'▓▓'</span><span class="p">,</span>
    <span class="s">'██'</span><span class="p">,</span>
<span class="p">]</span>
  
<span class="k">def</span> <span class="nf">print_grid</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">regions</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'exploring region '</span><span class="p">,</span> <span class="n">regions</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">'  '</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">fill</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">regions</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fill</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)],</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
        <span class="k">print</span><span class="p">()</span>
  
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="s">' '</span><span class="p">,</span> <span class="s">'/'</span><span class="p">,</span> <span class="s">'</span><span class="se">\\</span><span class="s">'</span><span class="p">]</span>
    <span class="n">testcase</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="p">.</span><span class="n">sample</span><span class="p">(</span><span class="n">candidates</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
    <span class="k">print</span><span class="p">(</span><span class="n">testcase</span><span class="p">)</span>
    <span class="n">solver</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
    <span class="n">region</span><span class="p">,</span> <span class="n">steps</span> <span class="o">=</span> <span class="n">solver</span><span class="p">.</span><span class="n">regionsBySlashes</span><span class="p">(</span><span class="n">testcase</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
  
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">os</span><span class="p">.</span><span class="n">system</span><span class="p">(</span><span class="s">'clear'</span><span class="p">)</span>
    <span class="n">print_grid</span><span class="p">(</span><span class="n">steps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">'grid'</span><span class="p">])</span>
  
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">steps</span><span class="p">:</span>
        <span class="n">os</span><span class="p">.</span><span class="n">system</span><span class="p">(</span><span class="s">'clear'</span><span class="p">)</span>
        <span class="n">print_grid</span><span class="p">(</span><span class="n">step</span><span class="p">[</span><span class="s">'grid'</span><span class="p">],</span> <span class="n">step</span><span class="p">[</span><span class="s">'regions'</span><span class="p">])</span>
        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="40-combination-sum-ii">40. Combination sum II</h2>

<h2 id="719-find-k-th-smallest-pair-distance">719. Find k-th smallest pair distance</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="860-lemonade-change">860. Lemonade change</h2>

<h2 id="1140-stone-game-ii">1140. Stone game II</h2>

<ul>
  <li>
    <p><strong>EACH PLAYER PLAYS OPTIMALLY</strong> – not greedy, alice would like to maximize her score, Bob will try to minimize Alice’s score</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">stoneGameII</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">piles</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">piles</span><span class="p">)</span>
  
        <span class="c1"># memo saves the states of (m, index)
</span>        <span class="n">memo</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
  
        <span class="n">suffix_sums</span> <span class="o">=</span> <span class="n">piles</span><span class="p">[:]</span>
  
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">suffix_sums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">suffix_sums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
  
        <span class="k">def</span> <span class="nf">minimax</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">m</span> <span class="o">&gt;=</span> <span class="n">n</span><span class="p">:</span> <span class="c1"># player can take all remaining piles of stone, to maximize their gain
</span>                <span class="k">return</span> <span class="n">suffix_sums</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
  
            <span class="k">if</span> <span class="n">memo</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">index</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">memo</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>
  
            <span class="n">opponent_results</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">'inf'</span><span class="p">)</span>
  
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">opponent_results</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">opponent_results</span><span class="p">,</span> <span class="n">minimax</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">index</span><span class="o">+</span><span class="n">i</span><span class="p">))</span>
              
            <span class="n">memo</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">suffix_sums</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">-</span><span class="n">opponent_results</span>
            <span class="k">return</span> <span class="n">memo</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>
  
        <span class="n">minimax</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
          
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">memo</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
  
        <span class="k">return</span> <span class="n">memo</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="find-the-longest-non-consecutive-common-substring">Find the longest non-consecutive common substring</h2>

<ul>
  <li>
    <p>using 2D DP for looking up sub problems</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">nonconseqsubstr</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>
    <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
    <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="s">""</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">__</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s2</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># choose the longer lcs for previous found
</span>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
  
    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">],</span> <span class="n">dp</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="264-ugly-number-ii">264. Ugly number II</h2>

<ul>
  <li>use a set to mark seen ugly numbers</li>
  <li>use a heap queue to receive newly added ugly numbers</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">nthUglyNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">uglynumbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">uglyset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">uglynumbers</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="n">heapq</span><span class="p">.</span><span class="n">heapify</span><span class="p">(</span><span class="n">uglynumbers</span><span class="p">)</span>

        <span class="k">while</span> <span class="n">counter</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">heapq</span><span class="p">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">uglynumbers</span><span class="p">)</span>
            <span class="c1">#print(result)
</span>            <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="n">mul2</span> <span class="o">=</span> <span class="n">result</span><span class="o">*</span><span class="mi">2</span>
            <span class="k">if</span> <span class="n">mul2</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">uglyset</span><span class="p">:</span>
                <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">uglynumbers</span><span class="p">,</span> <span class="n">mul2</span><span class="p">)</span>
                <span class="n">uglyset</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">mul2</span><span class="p">)</span>
            <span class="n">mul3</span> <span class="o">=</span> <span class="n">result</span><span class="o">*</span><span class="mi">3</span>
            <span class="k">if</span> <span class="n">mul3</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">uglyset</span><span class="p">:</span>
                <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">uglynumbers</span><span class="p">,</span> <span class="n">mul3</span><span class="p">)</span>
                <span class="n">uglyset</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">mul3</span><span class="p">)</span>
            <span class="n">mul5</span> <span class="o">=</span> <span class="n">result</span><span class="o">*</span><span class="mi">5</span>
            <span class="k">if</span> <span class="n">mul5</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">uglyset</span><span class="p">:</span>
                <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">uglynumbers</span><span class="p">,</span> <span class="n">mul5</span><span class="p">)</span>
                <span class="n">uglyset</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">mul5</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>
            
</pre></td></tr></tbody></table></code></pre></div></div>


        </div>
        
        <div class="col-12 col-md-4">
            
            <h2>Table of Content</h2>
            
            <ul id="toc" class="toc-list">
<li class="toc-item toc-h2"><a href="#1701-average-waiting-time">1701. Average waiting time</a></li>
<li class="toc-item toc-h2"><a href="#1598-crawler-log-folder">1598. Crawler log folder</a></li>
<li class="toc-item toc-h2"><a href="#1717-maximum-score-from-removing-substrings">1717. Maximum score from removing substrings</a></li>
<li class="toc-item toc-h2"><a href="#1530-number-of-good-leaf-node-pairs">1530. Number of good leaf node pairs</a></li>
<li class="toc-item toc-h2"><a href="#1380-lucky-numbers-in-a-matrix">1380. Lucky numbers in a matrix</a></li>
<li class="toc-item toc-h2"><a href="#912-sort-an-array---onlogn-complexity">912. Sort an array - o(nlogn) complexity</a></li>
<li class="toc-item toc-h2"><a href="#2418-sort-the-people">2418. Sort the people</a></li>
<li class="toc-item toc-h2"><a href="#1636-sort-array-by-increasing-frequency">1636. Sort array by increasing frequency</a></li>
<li class="toc-item toc-h2"><a href="#2058-find-the-minimum-and-maximum-number-of-nodes-between-critical-points">2058. Find the Minimum and Maximum Number of Nodes Between Critical Points</a></li>
<li class="toc-item toc-h2"><a href="#2191-sort-the-jumbled-numbers">2191. Sort the jumbled numbers</a></li>
<li class="toc-item toc-h2"><a href="#164-maximum-gap">164. Maximum gap</a></li>
<li class="toc-item toc-h2"><a href="#1334-find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance">1334. Find the city with the smallest number of neighbors at a threshold distance</a></li>
<li class="toc-item toc-h2"><a href="#2976-minimum-cost-to-convert-string-i">2976. Minimum cost to convert string I</a></li>
<li class="toc-item toc-h2"><a href="#2134-minimum-swaps-to-group-all-1s-together-ii">2134. Minimum swaps to group all 1’s together II</a></li>
<li class="toc-item toc-h2"><a href="#3243-shortest-distance-after-road-addition-queries-i">3243. Shortest distance after road addition queries I</a></li>
<li class="toc-item toc-h2"><a href="#2053-kth-distinct-string-in-an-array">2053. Kth distinct string in an array</a></li>
<li class="toc-item toc-h2"><a href="#1460-make-two-arrays-equal-by-reversing-subarrays">1460. Make two arrays equal by reversing subarrays</a></li>
<li class="toc-item toc-h2"><a href="#1508-range-sum-of-sorted-subarray-sums">1508. Range sum of sorted subarray sums</a></li>
<li class="toc-item toc-h2"><a href="#3016-minimum-number-to-pushes-to-type-word-ii">3016. Minimum number to pushes to type word II</a></li>
<li class="toc-item toc-h2"><a href="#2134-minimum-swaps-to-group-all-1s-together-ii-1">2134. Minimum swaps to group all 1’s together II</a></li>
<li class="toc-item toc-h2"><a href="#840-magic-squares-in-grid">840. Magic squares in grid</a></li>
<li class="toc-item toc-h2"><a href="#959-regions-cut-by-slashes">959. Regions cut by slashes</a></li>
<li class="toc-item toc-h2"><a href="#40-combination-sum-ii">40. Combination sum II</a></li>
<li class="toc-item toc-h2"><a href="#719-find-k-th-smallest-pair-distance">719. Find k-th smallest pair distance</a></li>
<li class="toc-item toc-h2"><a href="#860-lemonade-change">860. Lemonade change</a></li>
<li class="toc-item toc-h2"><a href="#1140-stone-game-ii">1140. Stone game II</a></li>
<li class="toc-item toc-h2"><a href="#find-the-longest-non-consecutive-common-substring">Find the longest non-consecutive common substring</a></li>
<li class="toc-item toc-h2"><a href="#264-ugly-number-ii">264. Ugly number II</a></li>
</ul>
            <div class="card my-card">
  <div class="card-header my-card-header">
    <h4 class="mb-0 display-text">Recent posts</h2>
  </div>
  <ul class="list-group list-group-flush">
    
    <a class="list-group-item my-list-group-item" href="/2024/07/27/canada-pr-application.html">
      <div class="row">
        <div class="col">
          <strong>Canada PR application (after provincial nomination)</strong>
        </div>
      </div>
      <div class="row">
        <div class="col">
          created at July 27, 2024,
          last updated on August 27, 2024
        </div>
        <div class="col-auto">
          
        </div>
      </div>
    </a>
    
    <a class="list-group-item my-list-group-item" href="/2024/07/22/angular-notes.html">
      <div class="row">
        <div class="col">
          <strong>Angular Notes</strong>
        </div>
      </div>
      <div class="row">
        <div class="col">
          created at July 22, 2024,
          last updated on August 27, 2024
        </div>
        <div class="col-auto">
          
        </div>
      </div>
    </a>
    
    <a class="list-group-item my-list-group-item" href="/2024/07/16/configure-a-ts-project.html">
      <div class="row">
        <div class="col">
          <strong>Configure a TypeScript project with CI/CD</strong>
        </div>
      </div>
      <div class="row">
        <div class="col">
          created at July 16, 2024,
          last updated on August 27, 2024
        </div>
        <div class="col-auto">
          
        </div>
      </div>
    </a>
    
    <a class="list-group-item my-list-group-item" href="/2024/07/09/leetcode-notes.html">
      <div class="row">
        <div class="col">
          <strong>Leetcode Notes</strong>
        </div>
      </div>
      <div class="row">
        <div class="col">
          created at July 09, 2024,
          last updated on August 27, 2024
        </div>
        <div class="col-auto">
          
        </div>
      </div>
    </a>
    
    <a class="list-group-item my-list-group-item" href="/2024/07/09/azure-500-notes.html">
      <div class="row">
        <div class="col">
          <strong>AZ-500 notes</strong>
        </div>
      </div>
      <div class="row">
        <div class="col">
          created at July 09, 2024,
          last updated on August 27, 2024
        </div>
        <div class="col-auto">
          
        </div>
      </div>
    </a>
    
  </ul>
</div> 
        </div>

    </div>
</main>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
</script>

</html>